The flag 'directory' used in rule demultiplex is only valid for outputs, not inputs.
The flag 'directory' used in rule demultiplex is only valid for outputs, not inputs.
The flag 'directory' used in rule aggregate_undetermined_filesizes is only valid for outputs, not inputs.
localrules directive specifies rules that are not present in the Snakefile:
	xenograft_check
	check_coverage

Building DAG of jobs...
Creating conda environment rules/map/envs/spike_map.yaml...
Downloading remote packages.
Environment for rules/map/envs/spike_map.yaml created (location: .snakemake/conda/ed8b811a)
Using shell: /bin/bash
Provided cluster nodes: 50
Job counts:
	count	jobs
	1	MBC_remove_duplicates
	1	add_UMI_R1
	1	add_UMI_R3
	1	bwa
	4	demultiplex
	1	gatk4_ApplyBQSR
	1	gatk4_BaseRecalibrator
	1	intersect
	1	join_demultiplex
	1	qualimap
	3	rejoin_sample
	1	sam_cleanup
	1	samtools_index
	1	samtools_index_sort
	1	split_demultiplex
	1	trim
	21

[Mon May 16 19:38:10 2022]
localrule split_demultiplex:
    input: /gpfs/project/projects/spike/AG_Borkhardt/Inputs/SampleSheetsTemp/220425_NB552271_0084_AHLJWWBGXL_spike.csv, /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/005_check_complete/220425_NB552271_0084_AHLJWWBGXL.complete.txt
    output: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL
    log: /gpfs/project/projects/spike/AG_Borkhardt/Logs/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL.log
    jobid: 20
    benchmark: /gpfs/project/projects/spike/AG_Borkhardt/Benchmarks/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL.benchmark
    reason: Updated input files: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/005_check_complete/220425_NB552271_0084_AHLJWWBGXL.complete.txt
    wildcards: prefix=/gpfs/project/projects/spike/AG_Borkhardt/, run=220425_NB552271_0084_AHLJWWBGXL

[Mon May 16 19:38:10 2022]
Finished job 20.
1 of 21 steps (5%) done

[Mon May 16 19:38:11 2022]
rule demultiplex:
    input: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL, /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL
    output: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_2
    log: /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_2.log
    jobid: 17
    benchmark: /gpfs/project/projects/spike/AG_Borkhardt/Benchmarks/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_2.benchmark
    reason: Updated input files: ; Input files updated by another job: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL
    wildcards: prefix=/gpfs/project/projects/spike/AG_Borkhardt/, run=220425_NB552271_0084_AHLJWWBGXL, part=part_2
    threads: 8

module load bcl2fastq/2.20.0 && rowdata=`grep "^\[Data\]$" -n /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_2.csv | cut -d ":" -f 1` && num_colliding=`tail -n+$rowdata /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_2.csv | grep "colliding barcode" -c; true` && bcl2fastq --runfolder-dir /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL/ --output-dir /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_2/ --ignore-missing-bcls --mask-short-adapter-reads 0  --use-bases-mask Y150,I8,Y10,Y150  --sample-sheet /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_2.csv --loading-threads 8 --processing-threads 8 --writing-threads 8 `if [ "$num_colliding" -ge 1 ]; then echo " --barcode-mismatches 0 "; fi` 2>> /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_2.log 1>&2
Submitted job 17 with external jobid '3460818.hpc-batch'.

[Mon May 16 19:38:11 2022]
rule demultiplex:
    input: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL, /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL
    output: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_1
    log: /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_1.log
    jobid: 16
    benchmark: /gpfs/project/projects/spike/AG_Borkhardt/Benchmarks/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_1.benchmark
    reason: Updated input files: ; Input files updated by another job: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL
    wildcards: prefix=/gpfs/project/projects/spike/AG_Borkhardt/, run=220425_NB552271_0084_AHLJWWBGXL, part=part_1
    threads: 8

module load bcl2fastq/2.20.0 && rowdata=`grep "^\[Data\]$" -n /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_1.csv | cut -d ":" -f 1` && num_colliding=`tail -n+$rowdata /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_1.csv | grep "colliding barcode" -c; true` && bcl2fastq --runfolder-dir /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL/ --output-dir /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_1/ --ignore-missing-bcls --mask-short-adapter-reads 0  --use-bases-mask Y150,I8,Y10,Y150  --sample-sheet /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_1.csv --loading-threads 8 --processing-threads 8 --writing-threads 8 `if [ "$num_colliding" -ge 1 ]; then echo " --barcode-mismatches 0 "; fi` 2>> /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_1.log 1>&2
Submitted job 16 with external jobid '3460819.hpc-batch'.

[Mon May 16 19:38:12 2022]
rule demultiplex:
    input: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL, /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL
    output: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_3
    log: /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_3.log
    jobid: 18
    benchmark: /gpfs/project/projects/spike/AG_Borkhardt/Benchmarks/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_3.benchmark
    reason: Updated input files: ; Input files updated by another job: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL
    wildcards: prefix=/gpfs/project/projects/spike/AG_Borkhardt/, run=220425_NB552271_0084_AHLJWWBGXL, part=part_3
    threads: 8

module load bcl2fastq/2.20.0 && rowdata=`grep "^\[Data\]$" -n /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_3.csv | cut -d ":" -f 1` && num_colliding=`tail -n+$rowdata /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_3.csv | grep "colliding barcode" -c; true` && bcl2fastq --runfolder-dir /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL/ --output-dir /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_3/ --ignore-missing-bcls --mask-short-adapter-reads 0  --use-bases-mask Y150,I8,Y10,Y150  --sample-sheet /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_3.csv --loading-threads 8 --processing-threads 8 --writing-threads 8 `if [ "$num_colliding" -ge 1 ]; then echo " --barcode-mismatches 0 "; fi` 2>> /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_3.log 1>&2
Submitted job 18 with external jobid '3460820.hpc-batch'.

[Mon May 16 19:38:12 2022]
rule demultiplex:
    input: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL, /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL
    output: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_4
    log: /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_4.log
    jobid: 19
    benchmark: /gpfs/project/projects/spike/AG_Borkhardt/Benchmarks/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_4.benchmark
    reason: Updated input files: ; Input files updated by another job: /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL
    wildcards: prefix=/gpfs/project/projects/spike/AG_Borkhardt/, run=220425_NB552271_0084_AHLJWWBGXL, part=part_4
    threads: 8

module load bcl2fastq/2.20.0 && rowdata=`grep "^\[Data\]$" -n /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_4.csv | cut -d ":" -f 1` && num_colliding=`tail -n+$rowdata /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_4.csv | grep "colliding barcode" -c; true` && bcl2fastq --runfolder-dir /gpfs/project/projects/spike/AG_Borkhardt/Inputs/Raw_Illumina/220425_NB552271_0084_AHLJWWBGXL/ --output-dir /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL/part_4/ --ignore-missing-bcls --mask-short-adapter-reads 0  --use-bases-mask Y150,I8,Y10,Y150  --sample-sheet /gpfs/project/projects/spike/AG_Borkhardt/Intermediate/024_split_demultiplex/220425_NB552271_0084_AHLJWWBGXL/samplesheet_part_4.csv --loading-threads 8 --processing-threads 8 --writing-threads 8 `if [ "$num_colliding" -ge 1 ]; then echo " --barcode-mismatches 0 "; fi` 2>> /gpfs/project/projects/spike/AG_Borkhardt/Logs/025_demultiplex/220425_NB552271_0084_AHLJWWBGXL_part_4.log 1>&2
Submitted job 19 with external jobid '3460821.hpc-batch'.
Terminating processes on user request, this might take some time.
Will exit after finishing currently running jobs.
Cancelling snakemake on user request.
